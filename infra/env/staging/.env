# Staging Environment
ENV=staging

# Database Configuration (used by docker-compose)
POSTGRES_USER=staging_user
POSTGRES_PASSWORD=staging_secure_password_change_me
POSTGRES_DB=biplace_staging
POSTGRES_PORT=5433

# Backend Configuration (passed to backend app)
COMPOSE_PROJECT_NAME=bb-backend-staging
COMPOSE_NETWORK_NAME=staging_internal
NODE_ENV=staging
PORT=3002

# Resource Limits - Staging (Lower allocation)
# PostgreSQL Resources
POSTGRES_MEMORY_LIMIT=64M
POSTGRES_MEMORY_RESERVATION=32M
POSTGRES_CPU_LIMIT=0.3
POSTGRES_CPU_RESERVATION=0.15
POSTGRES_SHARED_BUFFERS=16MB
POSTGRES_CACHE_SIZE=48MB
POSTGRES_MAINTENANCE_MEM=8MB
POSTGRES_WORK_MEM=1MB
POSTGRES_MAX_CONNECTIONS=25

# Backend Resources
BACKEND_MEMORY_LIMIT=80M
BACKEND_MEMORY_RESERVATION=48M
BACKEND_CPU_LIMIT=0.4
BACKEND_CPU_RESERVATION=0.2
NODE_MAX_OLD_SPACE=60
UV_THREADPOOL_SIZE=2

# Caddy Resources
CADDY_MEMORY_LIMIT=32M
CADDY_MEMORY_RESERVATION=16M
CADDY_CPU_LIMIT=0.2
CADDY_CPU_RESERVATION=0.1